{"version":3,"sources":["../../src/pages/image-viewer/image-viewer.module.ts","../../src/pages/image-viewer/image-viewer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAUjD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;ACZ+B;AACiB;AAOlF;IAqCE,yBACS,OAAsB,EACtB,SAAoB,EACpB,QAAwB;QAHjC,iBAkBC;QAjBQ,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAgB;QAtCjC,cAAc;QACd,aAAQ,GAAG,EAAE,CAAC;QAEd,WAAM,GAAG,CAAC,CAAC;QACX,UAAK,GAAG,CAAC,CAAC;QAEV,oBAAoB;QACpB,eAAU,GAAG,KAAK,CAAC;QACnB,wCAAwC;QACxC,cAAS,GAAG,KAAK,CAAC;QAGlB,qBAAqB;QACrB,cAAS,GAAG,CAAC,CAAC;QAEd,yCAAyC;QACzC,aAAQ,GAAG;YACT,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;SACL,CAAC;QAoDF,mBAAc,GAAG,EAAE,CAAC,CAAC,kBAAkB;QAYvC,oBAAe,GAAG,CAAC,CAAC;QA7ClB,2BAA2B;QAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE3B,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG;YAClB,KAAI,CAAC,SAAS,EAAE,CAAC;YACjB,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB,KAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,yCAAe,GAAf;QACE,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAC1D,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;QAEnD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAE3C,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC;IACH,CAAC;IAID,oBAAoB;IACpB,mCAAS,GAAT;QACE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC9B,CAAC;IAID,mBAAmB;IACnB,qCAAW,GAAX,UAAY,GAAG;QACb,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC,6CAA6C;QACnE,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC3B,IAAI,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC;QACjC,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,CAAC,IAAI,IAAI,CAAC,eAAe,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC7D,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;YAC3B,CAAC;QACH,CAAC;QAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAErC,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;QACvC,CAAC;IACH,CAAC;IAED,mBAAmB;IACnB,oCAAU,GAAV,UAAW,GAAG;QACZ,GAAG,CAAC,cAAc,EAAE,CAAC;QACrB,IAAI,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC;QAEjC,yBAAyB;QACzB,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YAE5D,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACb,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,GAAG,CAAC,CAAC;gBACvC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACb,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;gBACtE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACb,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;gBACtE,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,uBAAuB;gBACvE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;YAC1D,CAAC;YACD,MAAM,CAAC;QACT,CAAC;QAED,2BAA2B;QAC3B,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YAC7D,IAAI,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YAE7D,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC1B,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,IAAI,CAAC,CAAC;gBAExC,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,KAAK,EAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,KAAK,EAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,KAAK,EAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,KAAK,CAChC,CAAC;gBAEF,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CACxB,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAChB,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAChB,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAChB,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CACjB,CAAC;gBAEF,IAAI,GAAG,GAAG,MAAM,GAAG,OAAO,CAAC;gBAC3B,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;gBACxB,sBAA8B,EAA5B,QAAC,EAAE,QAAC,EAAE,QAAC,EAAE,QAAC,CAAmB;gBACnC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,IAAI,EAAE,CAAC;gBAEZ,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,4BAA4B;gBAC7E,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,4BAA4B;gBAC7E,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;YAC1D,CAAC;QACH,CAAC;IACH,CAAC;IAGD,kBAAkB;IAClB,mCAAS,GAAT,UAAU,GAAG;QAAb,iBAwCC;QAvCC,GAAG,CAAC,cAAc,EAAE,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACpC,IAAI,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC;QAEjC,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,UAAU,CAAC;oBACT,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;oBACrC,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC;gBAC3B,CAAC,EAAE,GAAG,CAAC,CAAC;YACV,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;gBACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACnB,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACzB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;oBACX,sBAA8B,EAA5B,QAAC,EAAE,QAAC,EAAE,QAAC,EAAE,QAAC,CAAmB;oBACnC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;oBACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;oBACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,IAAI,CAAC,IAAI,EAAE,CAAC;oBACZ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACxB,CAAC;YACH,CAAC;QACH,CAAC;QAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YAE5D,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,wBAAwB;YAC9D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;YACrD,CAAC;QACH,CAAC;IACH,CAAC;IAED,qBAAqB;IACrB,sCAAY,GAAZ,UAAa,GAAG;QACd,GAAG,CAAC,cAAc,EAAE,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC5B,IAAI,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC;QAEjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,wBAAwB;QAC5D,CAAC;IACH,CAAC;IAED,wCAAwC;IACxC,+CAAqB,GAArB,UAAsB,QAAQ;QAC5B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpD,IAAI,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;YAE3C,EAAE,CAAC,CAAC,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC;gBACnB,MAAM,CAAC,CAAC,CAAC;YACX,CAAC;QACH,CAAC;QACD,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY;IACzB,CAAC;IAED,2BAA2B;IAC3B,8BAAI,GAAJ;QACE,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,SAAS,CACvB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EACrC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CACtC,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,SAAS,CACvB,IAAI,CAAC,KAAK,EACV,CAAC,EACD,CAAC,EACD,IAAI,CAAC,KAAK,CAAC,KAAK,EAChB,IAAI,CAAC,KAAK,CAAC,MAAM,EACjB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EACpB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,EACf,IAAI,CAAC,QAAQ,CAAC,CAAC,CAChB,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAE1B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,kCAAQ,GAAR,UAAS,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;QACrB,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACjB,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,mCAAS,GAAT;QACE,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,0CAAgB,GAAhB;QACE,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,oCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;QAC/D,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACpC,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAGD,iCAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,gCAAM,GAAN;QAAA,iBAQC;QAPC,eAAe;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC1B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,UAAU,CAAC,cAAM,QAAC,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC,EAAzB,CAAyB,EAAE,GAAG,CAAC,CAAC;QACnD,CAAC;IACH,CAAC;IAtRoB;QAApB,yEAAS,CAAC,QAAQ,CAAC;sDAAY,iEAAU,oBAAV,iEAAU;sDAAC;IAErB;QAArB,yEAAS,CAAC,SAAS,CAAC;sDAAa,8DAAO,oBAAP,8DAAO;uDAAC;IA5B/B,eAAe;QAJ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;wBAyCiC;OAxCtB,eAAe,CAiT3B;IAAD,sBAAC;;AAAA;SAjTY,eAAe,gB","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ImageViewerPage } from './image-viewer';\n\n@NgModule({\n  declarations: [\n    ImageViewerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ImageViewerPage),\n  ],\n})\nexport class ImageViewerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-viewer/image-viewer.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content, ViewController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-image-viewer',\n  templateUrl: 'image-viewer.html'\n})\nexport class ImageViewerPage {\n\n  // input param\n  imageurl = '';\n\n  rotate = 0;\n  scale = 1;\n\n  // double click flag\n  firstClick = false;\n  // double click init size or double size\n  doubleImg = false;\n\n  image;\n  // image loading flag\n  imageload = 0;\n\n  // image's position(x,y) and with,height.\n  position = {\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0\n  };\n\n  // ref to canvas to get native element\n  @ViewChild('canvas') canvasRef: ElementRef;\n  // ref to content to get content with and height\n  @ViewChild('content') contentRef: Content;\n  // native canvas element\n  canvas: HTMLCanvasElement;\n  // context in canvas\n  context: CanvasRenderingContext2D;\n  // offscreen canvas\n  offCanvas: HTMLCanvasElement;\n  offContext: CanvasRenderingContext2D;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController\n  ) {\n    // get param and init image\n    this.imageurl = this.navParams.get('imageurl');\n    console.log(this.imageurl);\n\n    this.image = new Image();\n    this.image.src = this.imageurl;\n    this.image.onload = () => {\n      this.imageload++;\n      if (this.imageload === 2) {\n        this.resetImage();\n        this.bindEvent();\n      }\n    };\n  }\n\n  ionViewDidEnter() {\n    let canvas = (this.canvas = this.canvasRef.nativeElement);\n    let context = (this.context = this.canvas.getContext('2d'));\n    this.canvas.width = this.contentRef.contentWidth;\n    this.canvas.height = this.contentRef.contentHeight;\n\n    this.offCanvas = document.createElement('canvas');\n    this.offContext = this.offCanvas.getContext('2d');\n    this.offCanvas.width = this.canvas.width;\n    this.offCanvas.height = this.canvas.height;\n\n    this.imageload++;\n    if (this.imageload === 2) {\n      this.resetImage();\n      this.bindEvent();\n    }\n  }\n\n  ongoingTouches = []; //save touch event\n\n  //set event listener\n  bindEvent() {\n    this.canvas.addEventListener('touchstart', this.handleStart.bind(this));\n    this.canvas.addEventListener('touchend', this.handleEnd.bind(this));\n    this.canvas.addEventListener('touchcancel', this.handleCancel.bind(this));\n    this.canvas.addEventListener('touchleave', this.handleEnd.bind(this));\n    this.canvas.addEventListener('touchmove', this.handleMove.bind(this));\n    console.log('initialized.');\n  }\n\n  doubleImageFlag = 0;\n\n  //touch start event\n  handleStart(evt) {\n    evt.preventDefault(); // blocking the default behavior of the event\n    console.log('touchstart.');\n    let touches = evt.changedTouches;\n    if (touches.length === 1) {\n      if (this.doubleImageFlag === 0 || this.doubleImageFlag === 2) {\n        this.doubleImageFlag++;\n      } else {\n        this.doubleImageFlag = 0;\n      }\n    }\n\n    for (let i = 0; i < touches.length; i++) {\n      console.log('touchstart:' + i + '...');\n      this.ongoingTouches.push(touches[i]);\n\n      console.log('touchstart:' + i + '.');\n    }\n  }\n\n  // touch move event\n  handleMove(evt) {\n    evt.preventDefault();\n    let touches = evt.changedTouches;\n\n    // one finger, move image\n    if (touches.length === 1) {\n      let idx = this.ongoingTouchIndexById(touches[0].identifier);\n\n      if (idx >= 0) {\n        console.log('continuing touch ' + idx);\n        this.position.x =\n          this.position.x + touches[0].pageX - this.ongoingTouches[idx].pageX;\n        this.position.y =\n          this.position.y + touches[0].pageY - this.ongoingTouches[idx].pageY;\n        this.draw();\n        this.ongoingTouches.splice(idx, 1, touches[0]); // 更新ongoingTouches中的数据\n        console.log('.');\n      } else {\n        console.log(\"can't figure out which touch to continue\");\n      }\n      return;\n    }\n\n    // two fingers, scare image\n    if (touches.length >= 2) {\n      let idx1 = this.ongoingTouchIndexById(touches[0].identifier);\n      let idx2 = this.ongoingTouchIndexById(touches[1].identifier);\n\n      if (idx1 >= 0 && idx2 > 0) {\n        console.log('continuing touch ' + idx1);\n\n        let lenPrev = this.distance(\n          this.ongoingTouches[idx1].pageX,\n          this.ongoingTouches[idx1].pageY,\n          this.ongoingTouches[idx2].pageX,\n          this.ongoingTouches[idx2].pageY\n        );\n\n        let lenNow = this.distance(\n          touches[0].pageX,\n          touches[0].pageY,\n          touches[1].pageX,\n          touches[1].pageY\n        );\n\n        let len = lenNow - lenPrev;\n        this.scale = 1 + len * 0.01;\n        let { x, y, w, h } = this.position;\n        this.position.x = x - (w / 2) * (this.scale - 1);\n        this.position.y = y - (h / 2) * (this.scale - 1);\n        this.position.w = w * this.scale;\n        this.position.h = h * this.scale;\n        this.draw();\n\n        this.ongoingTouches.splice(idx1, 1, touches[0]); // update ongoingTouche data\n        this.ongoingTouches.splice(idx2, 1, touches[1]); // update ongoingTouche data\n        console.log('.');\n      } else {\n        console.log(\"can't figure out which touch to continue\");\n      }\n    }\n  }\n\n\n  // touch end event\n  handleEnd(evt) {\n    evt.preventDefault();\n    console.log('touchend/touchleave.');\n    let touches = evt.changedTouches;\n\n    if (touches.length === 1) {\n      if (this.doubleImageFlag === 1) {\n        this.doubleImageFlag++;\n        setTimeout(() => {\n          console.log('first click timeout! ');\n          this.doubleImageFlag = 0;\n        }, 300);\n      } else if (this.doubleImageFlag === 3) {\n        this.doubleImageFlag = 0;\n        this.firstClick = false;\n        if (this.doubleImg) {\n          this.resetImage();\n          this.doubleImg = false;\n        } else {\n          this.scale = 2;\n          let { x, y, w, h } = this.position;\n          this.position.x = x - (w / 2) * (this.scale - 1);\n          this.position.y = y - (h / 2) * (this.scale - 1);\n          this.position.w = w * this.scale;\n          this.position.h = h * this.scale;\n          this.draw();\n          this.doubleImg = true;\n        }\n      }\n    }\n\n    for (let i = 0; i < touches.length; i++) {\n      let idx = this.ongoingTouchIndexById(touches[i].identifier);\n\n      if (idx >= 0) {\n        this.ongoingTouches.splice(idx, 1); // remove it; we're done\n      } else {\n        console.log(\"can't figure out which touch to end\");\n      }\n    }\n  }\n\n  // touch broken event\n  handleCancel(evt) {\n    evt.preventDefault();\n    console.log('touchcancel.');\n    let touches = evt.changedTouches;\n\n    for (let i = 0; i < touches.length; i++) {\n      this.ongoingTouches.splice(i, 1); // remove it; we're done\n    }\n  }\n\n  // find out which touch object is active\n  ongoingTouchIndexById(idToFind) {\n    for (let i = 0; i < this.ongoingTouches.length; i++) {\n      let id = this.ongoingTouches[i].identifier;\n\n      if (id == idToFind) {\n        return i;\n      }\n    }\n    return -1; // not found\n  }\n\n  // draw image with position\n  draw() {\n    this.offContext.fillStyle = '#FFFFFF';\n    this.offContext.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.offContext.save();\n    this.offContext.translate(\n      this.position.x + this.position.w / 2,\n      this.position.y + this.position.h / 2\n    );\n    this.offContext.rotate((this.rotate / 180) * Math.PI);\n    this.offContext.drawImage(\n      this.image,\n      0,\n      0,\n      this.image.width,\n      this.image.height,\n      -this.position.w / 2,\n      -this.position.h / 2,\n      this.position.w,\n      this.position.h\n    );\n    this.offContext.restore();\n\n    this.context.drawImage(this.offCanvas, 0, 0);\n  }\n\n  distance(x1, y1, x2, y2) {\n    let dx = x2 - x1;\n    let dy = y2 - y1;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  clockwise() {\n    this.rotate += 90;\n    this.resetImage();\n  }\n\n  counterclockwise() {\n    this.rotate -= 90;\n    this.resetImage();\n  }\n\n  resetImage() {\n    this.position.x = this.canvas.width / 2 - this.image.width / 2;\n    this.position.y = this.canvas.height / 2 - this.image.height / 2;\n    this.position.w = this.image.width;\n    this.position.h = this.image.height;\n    this.draw();\n  }\n\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  change() {\n    // double click\n    if (this.firstClick) {\n      this.firstClick = false;\n    } else {\n      this.firstClick = true;\n      setTimeout(() => (this.firstClick = false), 300);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-viewer/image-viewer.ts"],"sourceRoot":""}